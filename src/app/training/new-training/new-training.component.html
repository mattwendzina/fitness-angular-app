<section fxLayout fxLayoutAlign="center" class="new-training">
    <form (ngSubmit)="onStartTraining(form)" #form="ngForm">
        <mat-card
            fxLayout="column"
            fxFlex
            fxFlex.gt-xs="600px"
            fxLayoutAlign="center center"
        >
            <mat-card-title>Choose a workout!</mat-card-title>
            <mat-card-content>
                <mat-spinner *ngIf="isLoading$ | async"></mat-spinner>
                <mat-form-field
                    *ngIf="!(isLoading$ | async) && trainingExercises"
                >
                    <mat-label>Select type of training</mat-label>
                    <mat-select ngModel name="exercise">
                        <mat-option
                            *ngFor="let exercise of trainingExercises"
                            [value]="exercise.name"
                        >
                            {{ exercise.name }}
                        </mat-option>
                    </mat-select>
                </mat-form-field>
            </mat-card-content>
            <mat-card-actions>
                <button *ngIf="trainingExercises" type="submit" mat-button>
                    Start
                </button>
                <button
                    *ngIf="!trainingExercises"
                    mat-raised-button
                    type="button"
                    (click)="fetchExercises()"
                >
                    Reload Resources
                </button>
            </mat-card-actions>
        </mat-card>
    </form>
</section>
