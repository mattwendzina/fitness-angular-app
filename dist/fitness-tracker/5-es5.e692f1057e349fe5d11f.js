function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _createClass(t,e,i){return e&&_defineProperties(t.prototype,e),i&&_defineProperties(t,i),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{CKRj:function(t,e,i){"use strict";i.r(e),i.d(e,"TrainingModule",(function(){return rt}));var n=i("tyNb"),a=i("fXoL"),c=i("vEl1"),r=i("ofXK"),s=i("wZkO"),o=i("a318"),u=i("kt0X"),l=i("XiUz"),b=i("3Pt+"),f=i("Wp6s"),m=i("Xa2L"),g=i("kmnG"),d=i("d3UM"),h=i("FKr1"),p=i("bTqV");function v(t,e){1&t&&a.Ob(0,"mat-spinner")}function S(t,e){if(1&t&&(a.Tb(0,"mat-option",9),a.yc(1),a.Sb()),2&t){var i=e.$implicit;a.kc("value",i.name),a.Bb(1),a.Ac(" ",i.name," ")}}function y(t,e){if(1&t&&(a.Tb(0,"mat-form-field"),a.Tb(1,"mat-label"),a.yc(2,"Select type of training"),a.Sb(),a.Tb(3,"mat-select",7),a.xc(4,S,2,2,"mat-option",8),a.Sb(),a.Sb()),2&t){var i=a.fc();a.Bb(4),a.kc("ngForOf",i.trainingExercises)}}function x(t,e){1&t&&(a.Tb(0,"button",10),a.yc(1," Start "),a.Sb())}function k(t,e){if(1&t){var i=a.Ub();a.Tb(0,"button",11),a.bc("click",(function(){return a.rc(i),a.fc().fetchExercises()})),a.yc(1," Reload Resources "),a.Sb()}}var T,C=((T=function(){function t(e,i){_classCallCheck(this,t),this.trainingService=e,this.store=i}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.isLoading$=this.store.select(o.a),this.trainingSub=this.trainingService.exercisesChanged.subscribe((function(e){t.trainingExercises=e})),this.fetchExercises()}},{key:"ngOnDestroy",value:function(){this.trainingSub&&this.trainingSub.unsubscribe()}},{key:"onStartTraining",value:function(t){if(t.value.exercise){var e=this.trainingExercises.find((function(e){return e.name===t.value.exercise}));this.trainingService.startExercise(e)}else window.alert("Please choose a workout!")}},{key:"fetchExercises",value:function(){this.trainingService.fetchAvailableExercises()}}]),t}()).\u0275fac=function(t){return new(t||T)(a.Nb(c.a),a.Nb(u.a))},T.\u0275cmp=a.Hb({type:T,selectors:[["app-new-training"]],decls:14,vars:8,consts:[["fxLayout","","fxLayoutAlign","center",1,"new-training"],[3,"ngSubmit"],["form","ngForm"],["fxLayout","column","fxFlex","","fxFlex.gt-xs","600px","fxLayoutAlign","center center"],[4,"ngIf"],["type","submit","mat-button","",4,"ngIf"],["mat-raised-button","","type","button",3,"click",4,"ngIf"],["ngModel","","name","exercise"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["type","submit","mat-button",""],["mat-raised-button","","type","button",3,"click"]],template:function(t,e){if(1&t){var i=a.Ub();a.Tb(0,"section",0),a.Tb(1,"form",1,2),a.bc("ngSubmit",(function(){a.rc(i);var t=a.pc(2);return e.onStartTraining(t)})),a.Tb(3,"mat-card",3),a.Tb(4,"mat-card-title"),a.yc(5,"Choose a workout!"),a.Sb(),a.Tb(6,"mat-card-content"),a.xc(7,v,1,0,"mat-spinner",4),a.gc(8,"async"),a.xc(9,y,5,1,"mat-form-field",4),a.gc(10,"async"),a.Sb(),a.Tb(11,"mat-card-actions"),a.xc(12,x,2,0,"button",5),a.xc(13,k,2,0,"button",6),a.Sb(),a.Sb(),a.Sb(),a.Sb()}2&t&&(a.Bb(7),a.kc("ngIf",a.hc(8,4,e.isLoading$)),a.Bb(2),a.kc("ngIf",!a.hc(10,6,e.isLoading$)&&e.trainingExercises),a.Bb(3),a.kc("ngIf",e.trainingExercises),a.Bb(1),a.kc("ngIf",!e.trainingExercises))},directives:[l.c,l.b,b.t,b.n,b.o,f.a,l.a,f.e,f.c,r.m,f.b,m.c,g.c,g.g,d.a,b.m,b.p,r.l,h.n,p.a],pipes:[r.b],styles:["mat-card-title[_ngcontent-%COMP%]{margin-bottom:30px}.new-training[_ngcontent-%COMP%]{padding:30px}"]}),T),w=i("+0xr"),I=i("Dh3D"),E=i("M9IT"),B=i("qFsG");function M(t,e){1&t&&(a.Tb(0,"mat-header-cell",14),a.yc(1,"Date"),a.Sb())}function O(t,e){if(1&t&&(a.Tb(0,"mat-cell"),a.yc(1),a.gc(2,"date"),a.Sb()),2&t){var i=e.$implicit;a.Bb(1),a.zc(a.hc(2,1,1e3*i.date.seconds))}}function D(t,e){1&t&&(a.Tb(0,"mat-header-cell",14),a.yc(1,"Name"),a.Sb())}function _(t,e){if(1&t&&(a.Tb(0,"mat-cell"),a.yc(1),a.Sb()),2&t){var i=e.$implicit;a.Bb(1),a.zc(i.name)}}function A(t,e){1&t&&(a.Tb(0,"mat-header-cell",14),a.yc(1,"Calories"),a.Sb())}function L(t,e){if(1&t&&(a.Tb(0,"mat-cell"),a.yc(1),a.gc(2,"number"),a.Sb()),2&t){var i=e.$implicit;a.Bb(1),a.zc(a.hc(2,1,i.calories))}}function P(t,e){1&t&&(a.Tb(0,"mat-header-cell",14),a.yc(1,"Duration (Seconds)"),a.Sb())}function F(t,e){if(1&t&&(a.Tb(0,"mat-cell"),a.yc(1),a.gc(2,"number"),a.Sb()),2&t){var i=e.$implicit;a.Bb(1),a.zc(a.hc(2,1,i.duration))}}function H(t,e){1&t&&(a.Tb(0,"mat-header-cell",14),a.yc(1,"State"),a.Sb())}function R(t,e){if(1&t&&(a.Tb(0,"mat-cell"),a.yc(1),a.Sb()),2&t){var i=e.$implicit;a.Bb(1),a.zc(i.state)}}function N(t,e){1&t&&a.Ob(0,"mat-header-row")}function z(t,e){1&t&&a.Ob(0,"mat-row")}var $,Q,U=function(){return[1,5,10,25]},K=(($=function(){function t(e){_classCallCheck(this,t),this.trainingService=e,this.displayedColumns=["date","name","calories","duration","state"],this.dataSource=new w.k}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.exerciseHistoryChangedSub=this.trainingService.exerciseHistoryChanged.subscribe((function(e){t.dataSource.data=e})),this.trainingService.fetchExerciseHistory()}},{key:"ngOnDestroy",value:function(){this.exerciseHistoryChangedSub&&this.exerciseHistoryChangedSub.unsubscribe()}},{key:"ngAfterViewInit",value:function(){this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator}},{key:"doFilter",value:function(t){this.dataSource.filter=t.trim().toLowerCase()}}]),t}()).\u0275fac=function(t){return new(t||$)(a.Nb(c.a))},$.\u0275cmp=a.Hb({type:$,selectors:[["app-past-trainings"]],viewQuery:function(t,e){var i;1&t&&(a.Cc(I.a,!0),a.Cc(E.a,!0)),2&t&&(a.oc(i=a.cc())&&(e.sort=i.first),a.oc(i=a.cc())&&(e.paginator=i.first))},decls:22,vars:6,consts:[["fxLayoutAlign","center center"],["fxFlex","60%","fxFlex.gt-xs","30%"],["type","text","matInput","","placeholder","Filter",3,"keyup"],["matSort","",3,"dataSource"],["matColumnDef","date"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","name"],["matColumnDef","calories"],["matColumnDef","duration"],["matColumnDef","state"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],[3,"pageSize","pageSizeOptions"],["mat-sort-header",""]],template:function(t,e){1&t&&(a.Tb(0,"div",0),a.Tb(1,"mat-form-field",1),a.Tb(2,"input",2),a.bc("keyup",(function(t){return e.doFilter(t.target.value)})),a.Sb(),a.Sb(),a.Sb(),a.Tb(3,"mat-table",3),a.Rb(4,4),a.xc(5,M,2,0,"mat-header-cell",5),a.xc(6,O,3,3,"mat-cell",6),a.Qb(),a.Rb(7,7),a.xc(8,D,2,0,"mat-header-cell",5),a.xc(9,_,2,1,"mat-cell",6),a.Qb(),a.Rb(10,8),a.xc(11,A,2,0,"mat-header-cell",5),a.xc(12,L,3,3,"mat-cell",6),a.Qb(),a.Rb(13,9),a.xc(14,P,2,0,"mat-header-cell",5),a.xc(15,F,3,3,"mat-cell",6),a.Qb(),a.Rb(16,10),a.xc(17,H,2,0,"mat-header-cell",5),a.xc(18,R,2,1,"mat-cell",6),a.Qb(),a.xc(19,N,1,0,"mat-header-row",11),a.xc(20,z,1,0,"mat-row",12),a.Sb(),a.Ob(21,"mat-paginator",13)),2&t&&(a.Bb(3),a.kc("dataSource",e.dataSource),a.Bb(16),a.kc("matHeaderRowDef",e.displayedColumns),a.Bb(1),a.kc("matRowDefColumns",e.displayedColumns),a.Bb(1),a.kc("pageSize",1)("pageSizeOptions",a.lc(5,U)))},directives:[l.b,g.c,l.a,B.b,w.j,I.a,w.c,w.e,w.b,w.g,w.i,E.a,w.d,I.b,w.a,w.f,w.h],pipes:[r.e,r.f],styles:[""]}),$),j=i("0IaG"),X=((Q=function t(e){_classCallCheck(this,t),this.passedData=e}).\u0275fac=function(t){return new(t||Q)(a.Nb(j.a))},Q.\u0275cmp=a.Hb({type:Q,selectors:[["app-stop-training"]],decls:10,vars:3,consts:[["mat-dialog-title",""],["mat-button","",3,"mat-dialog-close"]],template:function(t,e){1&t&&(a.Tb(0,"h1",0),a.yc(1,"Would you like to continue?"),a.Sb(),a.Tb(2,"mat-dialog-content"),a.Tb(3,"p"),a.yc(4),a.Sb(),a.Sb(),a.Tb(5,"mat-dialog-actions"),a.Tb(6,"button",1),a.yc(7,"Continue"),a.Sb(),a.Tb(8,"button",1),a.yc(9,"Quit"),a.Sb(),a.Sb()),2&t&&(a.Bb(4),a.Ac("You got ",e.passedData.timeLeft," seconds left"),a.Bb(2),a.kc("mat-dialog-close",!1),a.Bb(2),a.kc("mat-dialog-close",!0))},directives:[j.g,j.e,j.c,p.a,j.d],encapsulation:2}),Q);function G(t,e){if(1&t&&(a.Tb(0,"h1"),a.yc(1),a.Sb()),2&t){var i=a.fc();a.Bb(1),a.Ac("",i.time," seconds to go!")}}function q(t,e){if(1&t){var i=a.Ub();a.Tb(0,"button",4),a.bc("click",(function(){return a.rc(i),a.fc().pauseTimer()})),a.yc(1," Pause "),a.Sb()}}function J(t,e){if(1&t){var i=a.Ub();a.Tb(0,"div"),a.Tb(1,"button",4),a.bc("click",(function(){return a.rc(i),a.fc().restartTimer()})),a.yc(2," Go Again! "),a.Sb(),a.Tb(3,"button",5),a.bc("click",(function(){return a.rc(i),a.fc().finishCurrentTraining()})),a.yc(4," Exit "),a.Sb(),a.Sb()}}var V,W=((V=function(){function t(e,i){_classCallCheck(this,t),this.dialog=e,this.trainingService=i,this.motivationalMessages=[{name:"Lets go!",id:0},{name:"Keep on going, you've got this!",id:1},{name:"Awesome, you made it!",id:2}],this.spinnerProgress=100,this.currentMotivationalMessageId=0,this.timerStarted=!1}return _createClass(t,[{key:"ngOnInit",value:function(){this.currentExercise=this.trainingService.getCurrentExercise(),this.time=this.currentExercise.duration,this.interval=100/this.time,this.startTimer()}},{key:"startTimer",value:function(){var t=this;this.time===this.currentExercise.duration&&(this.currentMotivationalMessageId=0),this.timerStarted=!0,this.timer=window.setInterval((function(){t.time>1?(t.time===Math.round(t.currentExercise.duration/2)&&(t.currentMotivationalMessageId=1),t.time-=1,t.spinnerProgress-=t.interval):(t.currentMotivationalMessageId=2,clearInterval(t.timer),t.spinnerProgress=100,t.time=t.currentExercise.duration,t.timerStarted=!1,t.trainingService.exerciseComplete())}),1e3)}},{key:"pauseTimer",value:function(){var t=this;clearInterval(this.timer),this.dialog.open(X,{data:{timeLeft:this.time}}).afterClosed().subscribe((function(e){e?(t.trainingService.quitUnfinishedExercise(t.time),t.time=100,t.currentMotivationalMessageId=0):t.startTimer()}))}},{key:"restartTimer",value:function(){this.time||(this.time=100),this.startTimer()}},{key:"finishCurrentTraining",value:function(){this.trainingService.finishCurrentExercise()}}]),t}()).\u0275fac=function(t){return new(t||V)(a.Nb(j.b),a.Nb(c.a))},V.\u0275cmp=a.Hb({type:V,selectors:[["app-current-training"]],decls:9,vars:6,consts:[["fxLayout","column","fxLayoutAlign","center center",1,"current-training"],["mode","determinate",3,"value"],[4,"ngIf"],["mat-raised-button","","color","accent",3,"click",4,"ngIf"],["mat-raised-button","","color","accent",3,"click"],["mat-raised-button","","color","warn",3,"click"]],template:function(t,e){1&t&&(a.Tb(0,"section",0),a.Tb(1,"h1"),a.yc(2),a.Sb(),a.Ob(3,"mat-progress-spinner",1),a.xc(4,G,2,1,"h1",2),a.Tb(5,"p"),a.yc(6),a.Sb(),a.xc(7,q,2,0,"button",3),a.xc(8,J,5,0,"div",2),a.Sb()),2&t&&(a.Bb(2),a.Ac("Okay, let's get those ",null==e.currentExercise?null:e.currentExercise.name," going!"),a.Bb(1),a.kc("value",e.spinnerProgress),a.Bb(1),a.kc("ngIf",e.time),a.Bb(2),a.Ac(" ",null==e.motivationalMessages[e.currentMotivationalMessageId]?null:e.motivationalMessages[e.currentMotivationalMessageId].name," "),a.Bb(1),a.kc("ngIf",e.timerStarted),a.Bb(1),a.kc("ngIf",!e.timerStarted))},directives:[l.c,l.b,m.a,r.m,p.a],styles:[".current-training[_ngcontent-%COMP%]{padding:30px}"]}),V);function Y(t,e){1&t&&(a.Tb(0,"mat-tab-group"),a.Tb(1,"mat-tab",1),a.Ob(2,"app-new-training"),a.Sb(),a.Tb(3,"mat-tab",2),a.Ob(4,"app-past-trainings"),a.Sb(),a.Sb())}function Z(t,e){1&t&&a.Ob(0,"app-current-training")}var tt,et,it,nt=[{path:"",component:(tt=function(){function t(e){_classCallCheck(this,t),this.trainingService=e,this.trainingSessionActive=!1}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.exerciseSub=this.trainingService.exerciseToggled.subscribe((function(e){e?(t.trainingSessionActive=!0,t.currentExercise=e):t.trainingSessionActive=!1}))}},{key:"ngOnDestroy",value:function(){this.exerciseSub&&this.exerciseSub.unsubscribe()}}]),t}(),tt.\u0275fac=function(t){return new(t||tt)(a.Nb(c.a))},tt.\u0275cmp=a.Hb({type:tt,selectors:[["app-training"]],decls:2,vars:2,consts:[[4,"ngIf"],["label","New Exercise"],["label","Past Exercises"]],template:function(t,e){1&t&&(a.xc(0,Y,5,0,"mat-tab-group",0),a.xc(1,Z,1,0,"app-current-training",0)),2&t&&(a.kc("ngIf",!e.trainingSessionActive),a.Bb(1),a.kc("ngIf",e.trainingSessionActive))},directives:[r.m,s.b,s.a,C,K,W],styles:[""]}),tt)}],at=((et=function t(){_classCallCheck(this,t)}).\u0275mod=a.Lb({type:et}),et.\u0275inj=a.Kb({factory:function(t){return new(t||et)},imports:[[n.c.forChild(nt)],n.c]}),et),ct=i("PCNd"),rt=((it=function t(){_classCallCheck(this,t)}).\u0275mod=a.Lb({type:it}),it.\u0275inj=a.Kb({factory:function(t){return new(t||it)},imports:[[ct.a,at]]}),it)}}]);
//# sourceMappingURL=5-es5.e692f1057e349fe5d11f.js.map